@using EndavaInternship.Web.Models
@model EndavaInternship.Web.Models.UserBankDetailsModel

@{
    ViewBag.Title = "ASP.NET Day 3";
}

<div class="jumbotron">
    <h1>Endava Internship ASP.NET Day 3</h1>
</div>

<div class="row">
    <div class="col-md-4">
        <h2>Add bank details for user</h2>

        @using (Html.BeginForm("Create", "BankDetails", FormMethod.Post))
        {
            <div class="form-group">
                @Html.LabelFor(m => m.UserId)
                @Html.TextBoxFor(m => m.UserId, new {@class = "form-control"})
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.CardNumber)
                @Html.TextBoxFor(m => m.CardNumber, new {@class = "form-control"})
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.FullName)
                @Html.TextBoxFor(m => m.FullName, new {@class = "form-control"})
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.SecurityCode)
                @Html.TextBoxFor(m => m.SecurityCode, new {@class = "form-control"})
            </div>

            <input type="submit" class="btn btn-default" value="Create"/>
        }
    </div>
    <div class="col-md-8">
        @if ((ViewData["BankDetails"] != null) && ((IEnumerable<UserBankDetailsModel>)ViewData["BankDetails"]).Any())
        {
            <h2>Users:</h2>
            <table class="table table-striped table-hover ">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Full Name</th>
                        <th>Card Number</th>
                        <th>Security Code</th>
                    </tr>
                </thead>
                @foreach (var user in (IEnumerable<UserBankDetailsModel>)ViewData["BankDetails"])
                {
                    <tr>
                        <th>@user.UserId</th>
                        <th>@user.FullName</th>
                        <th>@user.CardNumber</th>
                        <th>@user.SecurityCode</th>
                    </tr>
                }
            </table>
        }
    </div>
</div>